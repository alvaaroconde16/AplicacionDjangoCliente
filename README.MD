## 游늷 Usuarios de Prueba  


=======
1. Usuario
El modelo Usuario representa a los usuarios que se registran en la plataforma. Sus atributos son:

- nombre: Almacena el nombre completo del usuario. Es de tipo CharField con un m치ximo de 200 caracteres (max_length=200, verbose_name="Nombre Completo").
- correo: Es un campo de tipo EmailField donde se guarda el correo electr칩nico del usuario.
- telefono: Guarda el n칰mero de tel칠fono del usuario. Es un CharField con un m치ximo de 20 caracteres (max_length=20).
- edad: Este campo almacena la edad del usuario como un entero (IntegerField).
- contrase침a: Es la contrase침a que el usuario utiliza para acceder a la plataforma. Tambi칠n es un CharField con un m치ximo de 200 caracteres (max_length=200).
- fecha_registro: Fecha en la que el usuario se registr칩. Es de tipo DateField y puede ser nulo o estar en blanco (null=True, blank=True).



2. Destino
El modelo Destino guarda informaci칩n sobre los destinos tur칤sticos disponibles. Los atributos que tiene son:

- nombre: Es el nombre del destino tur칤stico. Este campo es de tipo CharField con un m치ximo de 200 caracteres (max_length=200).
- pais: Guarda el nombre del pa칤s donde se encuentra el destino. Es de tipo CharField con un m치ximo de 50 caracteres (max_length=50).
- descripcion: Es una descripci칩n opcional del destino. Se almacena como TextField y puede ser nulo o estar en blanco (null=True, blank=True).
- popularidad: Es un campo de tipo FloatField donde se almacena la calificaci칩n de popularidad del destino, que debe estar entre 0 y 5. Usa validadores MinValueValidator(0) y MaxValueValidator(5)



3. Reserva
El modelo Reserva guarda informaci칩n sobre las reservas hechas por los usuarios. Los atributos son:

- codigo_reserva: Es un c칩digo 칰nico para identificar cada reserva, almacenado en un CharField con un m치ximo de 20 caracteres (max_length=20).
- fecha_salida: Fecha y hora de salida de la reserva, se guarda como DateTimeField.
- fecha_llegada: Fecha y hora de llegada de la reserva, tambi칠n un DateTimeField.
- numero_personas: Guarda el n칰mero de personas incluidas en la reserva como un entero positivo (PositiveIntegerField).
- precio: Precio total de la reserva, almacenado en un campo de tipo DecimalField con un m치ximo de 10 d칤gitos, de los cuales 2 son decimales (max_digits=10, decimal_places=2).
- usuario: Relaci칩n one-to-one con el modelo Usuario, cada reserva est치 asociada a un 칰nico usuario (OneToOneField(Usuario, on_delete=models.CASCADE)).



4. Comentario
El modelo Comentario almacena los comentarios que los usuarios dejan sobre destinos o reservas. Los atributos son:

- titulo: T칤tulo del comentario, almacenado en un CharField con un m치ximo de 100 caracteres (max_length=100).
- contenido: El contenido del comentario, de tipo TextField.
- fecha_comentario: Fecha en la que se hizo el comentario, se almacena autom치ticamente con la fecha y hora actual (auto_now_add=True).
- calificacion: Calificaci칩n del comentario, es un FloatField que acepta valores entre 0 y 5, con los validadores correspondientes (MinValueValidator(0), MaxValueValidator(5)).
- usuario: Relaci칩n many-to-one con el modelo Usuario, ya que un usuario puede dejar varios comentarios, pero cada comentario pertenece a un 칰nico usuario (ForeignKey(Usuario, on_delete=models.CASCADE)).



5. Alojamiento
Este modelo almacena informaci칩n sobre los alojamientos disponibles en cada destino. Sus atributos son:

- nombre: Nombre del alojamiento, se guarda en un CharField de hasta 200 caracteres (max_length=200).
- direccion: Direcci칩n del alojamiento, es un CharField de hasta 200 caracteres (max_length=200).
- capacidad: Capacidad m치xima de personas que el alojamiento puede recibir, es un entero (IntegerField).
- tipo: El tipo de alojamiento (hotel, apartamento, etc.), es un CharField de hasta 50 caracteres (max_length=50).
- destino: Relaci칩n many-to-one con el modelo Destino. Varios alojamientos pueden estar en un mismo destino, pero un alojamiento pertenece a un 칰nico destino (ForeignKey(Destino, on_delete=models.CASCADE)).
- reserva: Relaci칩n many-to-one con el modelo Reserva, donde un alojamiento puede estar en varias reservas (ForeignKey(Reserva, on_delete=models.CASCADE)).



6. Extra
El modelo Extra guarda los servicios o extras disponibles para las reservas. Sus atributos son:

- nombre: Nombre del extra, guardado en un CharField de hasta 100 caracteres (max_length=100).
- tipo: Tipo de extra (actividad, gu칤a tur칤stico, transporte, etc.). Usa un campo de tipo CharField con opciones predefinidas (choices=TIPOS_EXTRAS, max_length=50).
- descripcion: Descripci칩n del extra, de tipo TextField.
- precio: Precio del extra, almacenado en un DecimalField con un m치ximo de 8 d칤gitos y 2 decimales (max_digits=8, decimal_places=2).
- reserva: Relaci칩n many-to-many con el modelo Reserva usando una tabla intermedia llamada ExtraReserva (ManyToManyField(Reserva, through="ExtraReserva")).



7. Pasaporte
El modelo Pasaporte guarda la informaci칩n del pasaporte de los usuarios. Sus atributos son:

- numero: N칰mero 칰nico del pasaporte, se guarda en un CharField de hasta 50 caracteres (max_length=50, unique=True).
- fecha_emision: Fecha de emisi칩n del pasaporte, almacenada en un DateField.
- fecha_expiracion: Fecha de expiraci칩n del pasaporte, tambi칠n es un DateField.
- nacionalidad: Nacionalidad del titular del pasaporte, es un CharField con un m치ximo de 50 caracteres (max_length=50).



8. Transporte
Este modelo guarda informaci칩n sobre los transportes disponibles para los destinos. Los atributos son:

- tipo: Tipo de transporte (bus, avi칩n, etc.), es un CharField de hasta 50 caracteres (max_length=50).
- capacidad: Capacidad m치xima de personas que pueden viajar en el transporte, es un PositiveIntegerField.
- disponible: Indica si el transporte est치 disponible (BooleanField(default=True)).
- costo_por_persona: Precio por persona del transporte, se almacena en un DecimalField con un m치ximo de 8 d칤gitos y 2 decimales (max_digits=8, decimal_places=2).
- destino: Relaci칩n many-to-many con el modelo Destino (ManyToManyField(Destino)).



9. Promocion
El modelo Promocion guarda las promociones aplicables a destinos o alojamientos. Los atributos son:

- nombre: Nombre de la promoci칩n, guardado en un CharField de hasta 100 caracteres (max_length=100).
- descripcion: Descripci칩n de la promoci칩n, almacenada en un TextField.
- descuento_porcentaje: Porcentaje de descuento aplicado, es un FloatField con validadores que limitan el valor entre 0 y 100 (MinValueValidator(0), MaxValueValidator(100)).
- fecha_inicio: Fecha de inicio de la promoci칩n, se guarda en un DateField.
- fecha_fin: Fecha de fin de la promoci칩n, tambi칠n es un DateField.
- activo: Indica si la promoci칩n est치 activa o no, es un campo de tipo BooleanField(default=True).
- alojamiento: Relaci칩n one-to-one con el modelo Alojamiento. Una promoci칩n solo puede aplicarse a un 칰nico alojamiento (OneToOneField(Alojamiento, on_delete=models.CASCADE)).
- destino: Relaci칩n many-to-many con el modelo Destino, ya que una promoci칩n puede estar en varios destinos (ManyToManyField(Destino)).



10. Factura
Este modelo almacena la informaci칩n de las facturas de las reservas. Los atributos son:

- numero_factura: N칰mero 칰nico de la factura, es un CharField con un m치ximo de 20 caracteres (max_length=20, unique=True).
- fecha_emision: Fecha de emisi칩n de la factura, se guarda autom치ticamente con la fecha actual (auto_now_add=True).
- coste: El coste total de la factura, almacenado en un DecimalField con un m치ximo de 10 d칤gitos y 2 decimales (max_digits=10, decimal_places=2).
- metodo_pago: M칠todo de pago, que puede ser 'Tarjeta', 'Transferencia' o 'Efectivo', usando el par치metro choices (choices=METODOS_PAGO, max_length=50).
- reserva: Relaci칩n one-to-one con el modelo Reserva, ya que cada factura est치 asociada a una 칰nica reserva (OneToOneField(Reserva, on_delete=models.CASCADE)).



11. ExtraReserva
Este es un modelo intermedio entre Extra y Reserva, que permite la relaci칩n many-to-many entre estos modelos. Los atributos son:

- reserva: Relaci칩n many-to-one con el modelo Reserva (ForeignKey(Reserva, on_delete=models.CASCADE)).
- extra: Relaci칩n many-to-one con el modelo Extra (ForeignKey(Extra, on_delete=models.CASCADE)).
- cantidad: Almacena la cantidad de un determinado "extra" que se est치 reservando en relaci칩n con una reserva. Es un campo de tipo PositiveIntegerField. Se establece un valor predeterminado de 1 (default=1) para manejar casos donde solo se a침ada una unidad del extra.



<br><br>MODELO ENTIDAD RELACI칍N
![Imagen Modelo Entidad Relaci칩n](assests/Entidad-relacion_DWS.drawio.png)


# #########################################################################################################################################################################


<br><br>URLs y Vistas
A continuaci칩n se detallan todas las URLs de la aplicaci칩n, especificando lo que hace cada vista y los requisitos que cumplen.

1. URL: path('', views.index, name='index'),
- Funcionalidad: Muestra la p치gina de inicio de la aplicaci칩n.
- Requisitos: No requiere autenticaci칩n.



2. URL: path('usuarios/listar', views.listar_usuarios, name='listar_usuarios'),
- Funcionalidad: Muestra una lista de todos los usuarios registrados en la plataforma.
- Requisitos: No requiere autenticaci칩n.



3. URL: path('usuarios/<int:id_usuario>/reservas', views.listar_reservas, name='listar_reservas'),
- Funcionalidad: Muestra todas las reservas realizadas por un usuario espec칤fico, utilizando el id_usuario proporcionado.
- Requisitos: El id_usuario debe ser un entero v치lido. Utiliza la relaci칩n inversa entre los modelos Usuario y Reserva.



4. URL: path('reservas/<str:fecha_inicio>/<str:fecha_fin>', views.reservas_rango, name='reservas_rango'),
- Funcionalidad: Muestra las reservas que est치n comprendidas entre las fechas de inicio y fin proporcionadas.
- Requisitos: Ambas fechas deben estar en formato de cadena v치lido. Utiliza dos par치metros de tipo str. Se usa AND para indicar que sea mayor o igual que y menor o igual que.



5. URL: re_path(r'^reservas/sin_extras/[a-zA-Z0-9]*$', views.reservas_sin_extras, name='reservas_sin_extras'),
- Funcionalidad: Muestra las reservas que no tienen ning칰n extra asociado.
- Requisitos: Utiliza filter para comprobar que extrareserva (tabla intermedia) sea None. En la URL usa el re_path.



6. URL: path('destinos/listar', views.listar_destinos, name='listar_destinos'),
- Funcionalidad: Muestra una lista de todos los destinos tur칤sticos disponibles en la plataforma.
- Requisitos: No requiere autenticaci칩n.



7. URL: path('destinos/<int:id_destino>/alojamientos', views.alojamientos_destino, name='alojamientos_destino'),
- Funcionalidad: Muestra todos los alojamientos disponibles para un destino espec칤fico, utilizando el id_destino proporcionado.
- Requisitos: El id_destino debe ser un entero v치lido.



8. URL: path('usuarios/pasaporte/<str:nacionalidad>', views.pasaporte_nacionalidad, name='pasaporte_nacionalidad'),
- Funcionalidad: Muestra todos los usuarios que tienen la misma nacionalidad especificada en el par치metro, o aquellos cuya nacionalidad es 'Espa침ola'.
- Requisitos: Se usa el operador OR para indicar que sea de su nacionalidad o 'Espa침ola'.



9. URL: path('usuarios/ultimo_comentario/', views.ultimo_usuario_comentar, name='ultimo_usuario_comentar'),
- Funcionalidad: Muestra el 칰ltimo comentario realizado en la plataforma.
- Requisitos: Utiliza order_by("-fecha_comentario") y limit para obtener el 칰ltimo comentario.



10. URL: path('usuarios/<int:id_usuario>/comentarios', views.comentarios_usuario, name='comentarios_usuario'),
- Funcionalidad: Muestra todos los comentarios realizados por un usuario espec칤fico, utilizando el id_usuario proporcionado.
- Requisitos: El id_usuario debe ser un entero v치lido.



11. URL: path('reservas/total_precios', views.total_precios_reservas, name='total_precios_reservas'),
- Funcionalidad: Muestra la suma total de todos los precios de las reservas realizadas.
- Requisitos: Utiliza aggregate y Sum para calcular el precio total de las reservas.



<br>P츼GINAS DE ERRORES

12. URL: error_404_view
- Funcionalidad: Muestra una p치gina de error 404 personalizada.
- Requisitos: Se activa autom치ticamente cuando se accede a una URL no v치lida.



13. URL: error_403_view
- Funcionalidad: Muestra una p치gina de error 403 personalizada.
- Requisitos: Se activa autom치ticamente cuando el acceso a una URL es denegado.



14. URL: error_400_view
- Funcionalidad: Muestra una p치gina de error 400 personalizada.
- Requisitos: Se activa autom치ticamente para errores de solicitud incorrecta.



15. URL: error_500_view
- Funcionalidad: Muestra una p치gina de error 500 personalizada.
- Requisitos: Se activa autom치ticamente para errores de servidor interno.


# #########################################################################################################################################################################


<br><br>TEMPLATES APLICACI칍N WEB

<br>ESTOS SON LOS 5 TEMPLATE TAGS QUE HE UTILIZADO:

1. **`FOR...EMPTY`**: Se utiliza para iterar sobre listas u objetos. Si la lista est치 vac칤a, se ejecuta el bloque `{% empty %}`.  
   - En `alojamientos.html`, `comentarios.html`, `destinos.html`, `reservas.html` y `lista.html`, si no hay elementos para iterar, mostramos un mensaje de que no hay elementos disponibles:
    
    {% for alojamiento in alojamientos_mostrar %}
        <div>
            <h3>{{ alojamiento.nombre }}</h3>
            <p>{{ alojamiento.direccion }}</p>
        </div>
    {% empty %}
        <p>No hay alojamientos disponibles en este destino.</p>
    {% endfor %}
    


2. **`INCLUDE`**: Permite incluir el contenido de otro archivo HTML dentro de la plantilla actual.  
   - En todas las plantillas que contienen un bucle `for`, como en `alojamientos.html`, `destinos.html`, `reservas.html`, etc., se utiliza para incluir fragmentos de c칩digo com칰n o archivos parciales, como una barra de navegaci칩n:
    
    {% include 'destinos/destinos_item.html' %}
    


3. **`IF-ELSE`**: Se utiliza para mostrar informaci칩n condicionalmente, permitiendo una l칩gica de tipo `if-else` en las plantillas.  
   - En `reservas_item.html`, `usuario_item.html`, `destinos_item.html`, `total_precios.html`, `comentarios_item.html`, alojamientos_item se usa para verificar si una condici칩n es verdadera o falsa y mostrar informaci칩n diferente dependiendo del resultado:
    
    {% if reserva.numero_personas > 4 %}
        <p>Reserva para un grupo grande.</p>
    {% else %}
        <p>Reserva para un grupo chico.</p> 
    {% endif %}
    


4. **`FORLOOP.COUNTER`**: Muestra el n칰mero de la iteraci칩n actual dentro de un bucle `for`.  
   - En `destinos_item.html`, `reservas_item.html` y `usuario_item.html` se utiliza para mostrar el n칰mero de cada 칤tem listado, mostrando la posici칩n en el bucle:
    
    <h4>Reserva #{{ forloop.counter }}</h4>



5. **`COMMENT...ENDCOMMENT`**: Permite agregar comentarios dentro de la plantilla que no se muestran en el HTML renderizado.  
   - En `usuario_item.html` se utiliza para agregar comentarios explicativos dentro del c칩digo de las templates sin que estos aparezcan en el resultado final visible al usuario:
    
    {% comment %}
        Este bloque de c칩digo es solo para mostrar los detalles de la reserva
        y no se mostrar치 en el HTML renderizado.
    {% endcomment %}
    




<br><br>ESTOS SON LOS 5 OPERADORES QUE HE UTILIZADO:

1. **`!=` (Diferente de)**: Comprueba si dos valores son diferentes. Ejemplo:
   - En `comentarios_item.html`, destacamos los comentarios que no tienen la calificaci칩n m치xima:
    
    {% if comentario.calificacion != 5 %}
        <p>Este comentario no tiene la calificaci칩n m치xima.</p>
    {% endif %}
    

2. **`>` (Mayor que)**: Muestra elementos que superan un valor. Ejemplo:
   - En `reservas_item.html`, se resalta si una reserva es para m치s de 4 personas:
    
    {% if reserva.numero_personas > 4 %}
        <p>Reserva para un grupo grande.</p>
    {% endif %}
    

3. **`<` (Menor que)**: Verifica si un valor es menor. Ejemplo:
   - En `usuario_item.html`, mostramos un mensaje si el usuario es menor de edad:
    
    {% if usuario.edad < 18 %}
        <p>Usuario menor de edad.</p>
    {% endif %}
    

4. **`>=` (Mayor o igual que)**: Eval칰a si un valor cumple o supera un umbral. Ejemplo:
   - En `destinos_item.html`, destacamos destinos con alta popularidad:
    
    {% if destino.popularidad >= 8 %}
        <p>Destino altamente popular.</p>
    {% endif %}
    

5. **`<=` (Menor o igual que)**: Comprueba si un valor est치 dentro de un l칤mite. Ejemplo:
   - En `total_precios.html`, mostramos un mensaje si el total de precios no supera 500:
    
    {% if precio_mostrar.precio__sum <= 500 %}
        <p>El total de precios est치 dentro de un rango accesible.</p>
    {% endif %}
    




<br><br>ESTOS SON LOS 10 TEMPLATE FILTERS QUE HE UTILIZADO:

1. **`date` (Formatear fechas)**: Permite formatear fechas en el formato deseado. Ejemplo:
   - En `usuario_item.html`, `ultimoCom.html` y `comentarios_item.html`, se muestra la fecha de salida de una reserva en formato d칤a-mes-a침o:
    
    <p>Fecha del comentario: {{ comentario.fecha_comentario|date:"d-m-Y" }}</p>
    


2. **`length` (Obtener la cantidad de elementos de una lista)**: Muestra la cantidad de elementos en una lista o colecci칩n. Ejemplo:
   - En `lista.html`, `comentarios.html` y `alojamientos.html`, se muestra el n칰mero total de usuarios registrados:
    
    <p>Total de usuarios: {{ usuarios_mostrar|length }}</p>
    


3. **`default` (Valor predeterminado si el valor es vac칤o)**: Establece un valor predeterminado si el valor es vac칤o o `None`. Ejemplo:
   - En `comentarios_item.html`, se muestra un mensaje si no hay contenido en un comentario:
    
    <p>Contenido: {{ comentario.contenido|default:"No hay contenido disponible." }}</p>
    


4. **`upper` (Convertir texto a may칰sculas)**: Convierte todo el texto a may칰sculas. Ejemplo:
   - En `usuario_item.html`, se muestra el nombre del usuario en may칰sculas:
    
    <p>Nombre: {{ usuario.nombre|upper }}</p>
    


5. **`lower` (Convertir texto a min칰sculas)**: Convierte todo el texto a min칰sculas. Ejemplo:
   - En `destinos_item.html`, se muestra el nombre del destino en min칰sculas:
    
    <p>Destino: {{ destino.nombre|lower }}</p>
    


6. **`divisibleby` (Verificar si un n칰mero es divisible por otro)**: Permite verificar si un n칰mero es divisible por otro sin dejar residuo. Este filtro es 칰til para determinar si un n칰mero es par o impar. Ejemplo:
   - En `reservas.html`, se verifica si el n칰mero de reservas es par o impar:
   
    
    {% if reservas_mostrar|length|divisibleby:2 %}
        <p>El n칰mero de reservas es par.</p>
    {% else %}
        <p>El n칰mero de reservas es impar.</p>
    {% endif %}



7. **`truncatechars` (Limitar el texto a un n칰mero espec칤fico de caracteres)**: Recorta un texto a una cantidad espec칤fica de caracteres. Ejemplo:
   - En `comentarios_item.html`, se muestra solo los primeros 50 caracteres del comentario:
    
    <p>Contenido: {{ comentario.contenido|default:"No hay contenido disponible."|truncatechars:50 }}</p>
    


8. **`pluralize` (Manejar el plural din치mico de las palabras)**: Agrega el plural autom치ticamente dependiendo de la cantidad. Ejemplo:
   - En `reservas.html` y `destinos.html`, se maneja el plural del t칠rmino "comentario" seg칰n la cantidad de comentarios:
    
    <p>Numero de reservas: {{ reservas_mostrar|length }} reserva{{ reservas_mostrar|pluralize }}</p>
    


9. **`capfirst` (Convierte la primera letra en may칰scula)**: Convierte solo la primera letra de una cadena a may칰scula. Ejemplo:
   - En `comentarios_item.html`, se convierte la primera letra del t칤tulo del comentario a may칰scula:
    
    <h3>T칤tulo: {{ comentario.titulo|capfirst }}</h3>
    
    

10. **`floatformat` (Formatea n칰meros de punto flotante a un n칰mero fijo de decimales)**: Formatea un n칰mero de punto flotante con una cantidad fija de decimales. Ejemplo:
    - En `reservas_item.html`, se muestra el precio de la reserva con 2 decimales:
     
    <p>Precio: {{ reserva.precio|floatformat:2 }}</p>



# #########################################################################################################################################################################



<br><br>

# Proyecto CRUD - Gesti칩n de Usuario, Comentarios, Reservas y m치s

Este proyecto contiene un conjunto de funcionalidades CRUD (Crear, Leer, Actualizar, Eliminar) para gestionar datos de **Usuarios**, **Comentarios**, **Destinos**, **Reservas**, **Alojamientos** y **Promociones**.

## Funcionalidades Implementadas

### 1. **USUARIO**

    #### 1.1 Crear Usuario
    - Formulario con validaci칩n:
    - El correo electr칩nico debe ser v치lido.
    - La contrase침a debe tener una longitud m칤nima de 6 caracteres.
    - El tel칠fono debe tener un formato correcto.
    
    #### 1.2 Leer Usuarios
    - Muestra todos los usuarios registrados.

    #### 1.3 Actualizar Usuario
    - Permite editar los datos del usuario.
    
    #### 1.4 Eliminar Usuario
    - Permite eliminar un usuario del sistema.


<br>


### 2. **COMENTARIO**

    #### 2.1 Crear Comentario
    - Formulario con validaci칩n:
    - El **t칤tulo** debe ser 칰nico.
    - La **calificaci칩n** debe estar entre 0 y 5.
    - El **contenido** no debe exceder los 500 caracteres.
    
    #### 2.2 Leer Comentarios
    - Muestra todos los comentarios realizados por los usuarios.

    #### 2.3 Actualizar Comentario
    - Permite editar el contenido y la calificaci칩n de un comentario existente.

    #### 2.4 Eliminar Comentario
    - Permite eliminar un comentario.


<br>


### 3. **DESTINO**

    #### 3.1 Crear Destino
    - Formulario con validaci칩n:
    - El **nombre** debe ser 칰nico.
    - El **pa칤s** no puede estar vac칤o.
    
    #### 3.2 Leer Destinos
    - Muestra todos los destinos.

    #### 3.3 Actualizar Destino
    - Permite editar la informaci칩n de un destino.

    #### 3.4 Eliminar Destino
    - Permite eliminar un destino.


<br>


### 4. **RESERVA**

    #### 4.1 Crear Reserva
    - Formulario con validaci칩n:
    - El **n칰mero de personas** debe ser mayor que 0.
    - El **precio** debe ser un n칰mero positivo.
    
    #### 4.2 Leer Reservas
    - Muestra todas las reservas.

    #### 4.3 Actualizar Reserva
    - Permite editar la fecha de salida, llegada, y el n칰mero de personas de la reserva.

    #### 4.4 Eliminar Reserva
    - Permite eliminar una reserva.


<br>


### 5. **ALOJAMIENTO**

    #### 5.1 Crear Alojamiento
    - Formulario con validaci칩n:
    - El **nombre** debe ser 칰nico.
    - La **direcci칩n** debe tener una longitud m칤nima de 10 caracteres.
    
    #### 5.2 Leer Alojamientos
    - Muestra todos los alojamientos disponibles.

    #### 5.3 Actualizar Alojamiento
    - Permite editar el nombre, direcci칩n y capacidad de un alojamiento.

    #### 5.4 Eliminar Alojamiento
    - Permite eliminar un alojamiento.


<br>


### 6. **PROMOCI칍N**

    #### 6.1 Crear Promoci칩n
    - Formulario con validaci칩n:
    - El **descuento** debe estar entre 0 y 100.
    - La **fecha de inicio** debe ser anterior a la **fecha de fin**.
    
    #### 6.2 Leer Promociones
    - Muestra todas las promociones activas.

    #### 6.3 Actualizar Promoci칩n
    - Permite editar la descripci칩n y las fechas de una promoci칩n.

    #### 6.4 Eliminar Promoci칩n
    - Permite eliminar una promoci칩n.


<br>


## VALIDACIONES IMPLEMENTADAS

1. **Usuario:**
   - El correo electr칩nico debe ser v치lido.
   - La contrase침a debe tener al menos 6 caracteres.
   - El tel칠fono debe tener un formato v치lido.
   
2. **Comentario:**
   - El t칤tulo debe ser 칰nico.
   - La calificaci칩n debe estar entre 0 y 5.
   - El contenido no puede exceder los 500 caracteres.

3. **Destino:**
   - El nombre debe ser 칰nico.
   - El pa칤s no puede estar vac칤o.

4. **Reserva:**
   - El n칰mero de personas debe ser mayor que 0.
   - El precio debe ser un n칰mero positivo.

5. **Alojamiento:**
   - El nombre debe ser 칰nico.
   - La direcci칩n debe tener una longitud m칤nima de 10 caracteres.

6. **Promoci칩n:**
   - El descuento debe estar entre 0 y 100.
   - La fecha de inicio debe ser anterior a la fecha de fin.


<br>


## WIDGETS UTILIZADOS

1. **Usuario:**
   - Widget: `forms.TextInput(attrs={"placeholder": "Introduce tu nombre"})`
   - Se utiliza para el campo "nombre", con un texto de ayuda que proporciona un "placeholder".

2. **Comentario:**
   - Widget: `forms.Textarea(attrs={"rows": 5, "placeholder": "Escribe el contenido del comentario"})`
   - Se utiliza para el campo "contenido", con un 치rea de texto que tiene un tama침o de 5 filas y un "placeholder".

3. **Destino:**
   - Widget: `forms.NumberInput(attrs={"min": 1, "step": 0.1})`
   - Se utiliza para el campo "popularidad", con un campo de tipo n칰mero que acepta decimales.

4. **Reserva:**
   - Widget: `forms.Select(attrs={"class": "custom-select"})`
   - Se utiliza para el campo "usuario", con un select que permite seleccionar un usuario.

5. **Alojamiento:**
   - Widget: `forms.CheckboxSelectMultiple(attrs={"class": "checkbox-group"})`
   - Se utiliza para el campo "tipo", permitiendo seleccionar m칰ltiples valores.

6. **Promoci칩n:**
   - Widget: `forms.DateInput(attrs={"type": "date"})`
   - Se utiliza para los campos "fecha_inicio" y "fecha_fin", permitiendo seleccionar fechas con un calendario.



# #########################################################################################################################################################################


<br><br>


# Proyecto Django: Gesti칩n de Usuarios con Im치genes

Este proyecto utiliza Django para gestionar usuarios y permitir la subida de im치genes asociadas a cada uno. A continuaci칩n, se detallan los pasos realizados para configurar correctamente la subida y visualizaci칩n de im치genes.


<br>


## Configuraci칩n del Proyecto

### 1. Configuraci칩n de `settings.py`

- **Archivos Est치ticos**: Se configur칩 la ruta para los archivos est치ticos (`STATIC_URL`) que Django utilizar치 para servir archivos como hojas de estilo y scripts JavaScript.
    
 - **Archivos de Medios**: Se configur칩 la ruta para los archivos de medios (`MEDIA_URL` y `MEDIA_ROOT`), que se utilizan para almacenar y acceder a los archivos subidos por los usuarios, como las im치genes.


<br>


### 2. Creaci칩n del Modelo `Usuario`

- Se a침adi칩 un campo de tipo `ImageField` al modelo `Usuario`, lo que permite almacenar im치genes de perfil para cada usuario.


<br>


### 3. Creaci칩n del Formulario para Subir Im치genes

- El formulario para crear y editar usuarios fue modificado para manejar archivos subidos por el usuario. Se utiliza `request.FILES` para recibir y procesar estos archivos en el servidor.

- Tambi칠n se configur칩 el formulario para permitir la actualizaci칩n de im치genes de usuario ya existentes.


<br>


### 4. Actualizaci칩n de Plantillas para Mostrar la Imagen

- Se modificaron las plantillas de Django para mostrar las im치genes de perfil de los usuarios. Si un usuario tiene una imagen asociada, se muestra en su perfil. Si no, se muestra un mensaje indicando que no hay imagen.

- Para enviar archivos a trav칠s de formularios, se a침adi칩 el atributo `enctype="multipart/form-data"` al formulario HTML.


<br>


### 5. Configuraci칩n de URLs para Archivos de Medios

- Durante el desarrollo, es necesario servir los archivos de medios, como im치genes. Se a침adi칩 una configuraci칩n en el archivo `urls.py` para que Django sirviera estos archivos correctamente cuando se est치 ejecutando en modo de desarrollo.


<br>


### 6. Verificaci칩n de la Imagen en la Base de Datos

- Al crear o actualizar un usuario con una imagen, esta se almacena en la carpeta `media/usuarios/`. La ruta relativa de la imagen se guarda en la base de datos.

- Cuando se necesita mostrar la imagen en una plantilla, se accede a la ruta correspondiente utilizando la propiedad `usuario.imagen.url`.


<br>


## Soluci칩n de Problemas

- **Error "No hay imagen"**: Si las im치genes no se muestran correctamente, aseg칰rate de que la carpeta `media/usuarios/` exista en tu proyecto y de que los archivos se est칠n guardando correctamente en ella. Tambi칠n, verifica que las configuraciones de `MEDIA_URL` y `MEDIA_ROOT` en `settings.py` est칠n correctamente definidas.

- **Revisar Configuraci칩n de URLs**: Si las im치genes no se sirven, aseg칰rate de que la configuraci칩n en `urls.py` incluye la ruta a los archivos de medios en modo de desarrollo.



# #########################################################################################################################################################################



# Gesti칩n de Tareas y Reservas

Este proyecto implementa una plataforma para gestionar tareas, reservas, usuarios, comentarios y promociones, con diferentes permisos seg칰n el rol del usuario.

## Tipos de Usuario

### 1. **Administrador (Rol: 1)**

El administrador tiene acceso completo a todas las funcionalidades del sistema, incluyendo la gesti칩n de usuarios, reservas, destinos, alojamientos, comentarios y promociones. Las acciones espec칤ficas incluyen:
- **Usuarios**: Listar, crear, buscar, ver usuarios con pasaporte espa침ol, ver 칰ltimo usuario en comentar.
- **Reservas**: Ver, crear, buscar, y gestionar todas las reservas.
- **Destinos**: Listar, crear y buscar destinos.
- **Alojamientos**: Listar, crear y buscar alojamientos.
- **Comentarios**: Listar, crear, buscar comentarios.
- **Promociones**: Listar, crear, buscar promociones.

### 2. **Cliente (Rol: 2)**

El cliente tiene acceso a funcionalidades relacionadas con sus propias reservas y comentarios. Las acciones espec칤ficas incluyen:
- **Usuarios**: Ver su propio perfil.
- **Reservas**: Ver, crear, y buscar sus propias reservas.
- **Destinos**: Ver los destinos disponibles.
- **Alojamientos**: Ver alojamientos por destino.
- **Comentarios**: Crear y ver sus propios comentarios.
- **Promociones**: Ver promociones disponibles.
- **Contrase침a**: Cambiar su contrase침a.

### 3. **Proveedor (Rol: 3)**

El proveedor tiene un acceso limitado similar al cliente, pero con m치s capacidades sobre las reservas. Las acciones espec칤ficas incluyen:
- **Usuarios**: Ver su propio perfil.
- **Reservas**: Ver, crear y buscar todas las reservas.
- **Destinos**: Ver los destinos disponibles.
- **Alojamientos**: Ver alojamientos por destino.
- **Comentarios**: Crear y ver sus propios comentarios.
- **Promociones**: Ver promociones disponibles.

---

## Funcionalidades del Men칰

### Para Administradores:
- **Usuarios**: Listar, crear y gestionar usuarios.
- **Reservas**: Ver todas las reservas, crear y gestionar reservas.
- **Destinos**: Crear y gestionar destinos.
- **Alojamientos**: Crear y gestionar alojamientos.
- **Comentarios**: Listar y gestionar comentarios.
- **Promociones**: Crear y gestionar promociones.

### Para Clientes:
- **Reservas**: Gestionar sus propias reservas.
- **Destinos**: Ver los destinos disponibles.
- **Alojamientos**: Ver alojamientos de destinos.
- **Comentarios**: Crear y ver sus propios comentarios.
- **Promociones**: Ver promociones.

### Para Proveedores:
- **Reservas**: Gestionar reservas.
- **Destinos**: Ver destinos.
- **Alojamientos**: Ver alojamientos.
- **Comentarios**: Crear y ver sus propios comentarios.
- **Promociones**: Ver promociones.

---

## Reinicio de Contrase침a

Para reiniciar la contrase침a, el sistema env칤a un enlace de recuperaci칩n por correo electr칩nico. En entornos locales, puedes configurar el backend para mostrar este enlace directamente en la consola de desarrollo usando el siguiente ajuste en el archivo `settings.py`:

```python
EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'


>>>>>>> 7b2a36d3902ced6db30a336a4094fdbd6b528998
